<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Starter Template for Bootstrap</title>
    <script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,400" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,700,800" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/login.css">
    <script src="javascript/script.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
   <script src="https://www.google.com/recaptcha/api.js" async defer></script>

    </head>

  <body>

    <div class=""></div>

    <div class="topBackground">
      <center>
        <img src="images/echoingWall.svg" class="logo">
      </center>
    </div>


<div class="signUpBackground" style="height: 100%">
    <div class="container">
      <div class="row">
        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"></div>
        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
        <h1 style="color: white; text-align: center"> SIGN UP </h1>

          <form class="submitForm" id="moveToTop">


            <div class="form-group">
              <input type="text" class="form-control" id="exampleScreenName" placeholder="Desired ScreenName">
            </div>

            <div class="form-group">
              <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Email">
            </div>

            <div class="form-group">
              <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
            </div>

            <div class="form-group">
              <input type="password" class="form-control" id="exampleInputPassword1" placeholder=" Validate Password">
            </div>

             <div class="form-group">
              <input type="tel" class="form-control" id="exampleInputPhone1" placeholder=" Phone Number">
            </div>

            <div class="form-group">
              <input type="text" class="form-control" id="examplePostalCode1" placeholder=" Postal Code">
            </div>           

            <div class="form-group">
              <input type="text" class="form-control" id="exampleCountry1" placeholder=" Country">
            </div>

            <div class="form-group" style="color:white; text-align:center"> PLEASE SELECT UP TO 10 INTERESTS
            <div>
              <div style="float:left"><input type="checkbox" name="interest" value="1">Sports &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="2">News &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="3">Music &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="4">Entertainment &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="5">Advice &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="6">Relationships &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="7">Technology &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="8">Gaming &nbsp
              <div style="float:left"><input type="checkbox" name="interest" value="9">School &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="10">Friends &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="11">TV & Movies&nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="12">Health &nbsp</div>
            </div>
            <div>
              <div style="float:left"><input type="checkbox" name="interest" value="13">Business &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="14">Travel &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="15">Jobs &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="16">Food &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="17">Dating &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="18">Male &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="19">Female &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="20">Books &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="21">Animals &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="22">Environment &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="23">US Politics &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="24">Wars &nbsp</div>
            </div>
            <div>
              <div style="float:left"><input type="checkbox" name="interest" value="25">Home &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="26">Design &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="27">Arts &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="28">Crafts &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="29">Marriage &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="30">Clothing &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="31">Shopping &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="32">Garden &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="33">Car &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="34">Motorcycle &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="35">Boat &nbsp</div>
              <div style="float:left"><input type="checkbox" name="interest" value="36">Firearms &nbsp</div>
            </div>
            </div>  

          </form>
          <form name="review" ACTION="/login" METHOD="POST" onsubmit="return checkform(this);">
          <font color="#DD0000">Enter Code ></font> <span id="txtCaptchaDiv" style="background-color:#A51D22;color:#FFF;padding:5px"></span>
          <input type="hidden" id="txtCaptcha" />
          <input type="text" style="color:#DD0000" name="txtInput" id="txtInput" size="15" />
          <input type="submit" class = "btn btn-default" id="signUpButton" value="Submit"/>
          <div id="signupResult">
          </div>
          </form>




                    


                    </div>
                  </div>
                </div>






                  <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"></div>
                </div>
              </div>
            </div>
          </div>





            </body>
              <script type="text/javascript">
              function checkform(theform){
                console.log("Checkform function")
              var why = "";

              if(theform.txtInput.value == ""){
              why += "- Security code should not be empty.\n";
              }
              if(theform.txtInput.value != ""){
              if(ValidCaptcha(theform.txtInput.value) == false){
              why += "- Security code did not match.\n";
              }
              }
              if(why != ""){
              alert(why);
              return false;
              }
              }

              //Generates the captcha function
              var a = Math.ceil(Math.random() * 9)+ '';
              var b = Math.ceil(Math.random() * 9)+ '';
              var c = Math.ceil(Math.random() * 9)+ '';
              var d = Math.ceil(Math.random() * 9)+ '';
              var e = Math.ceil(Math.random() * 9)+ '';
              console.log("Generate number")

              var code = a + b + c + d + e;
              document.getElementById("txtCaptcha").value = code;
              document.getElementById("txtCaptchaDiv").innerHTML = code;

              // Validate the Entered input aganist the generated security code function
              function ValidCaptcha(){
              var str1 = removeSpaces(document.getElementById('txtCaptcha').value);
              var str2 = removeSpaces(document.getElementById('txtInput').value);
              if (str1 == str2){
              return true;
              }else{
              return false;
              }
              }

              // Remove the spaces from the entered and generated code
              function removeSpaces(string){
              return string.split(' ').join('');
              }
              </script>

          </div>
        </div>
      </div>






        <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3"></div>
      </div>
    </div>
  </div>
</div>
            <footer>
              <div class="text-center">
                <p class="footerText">&copy; Echoing Wall 2017</p>
              </div>
            </footer>

    <script>
        $("#signUpButton").on("click", function() {
            console.log("inside signup")
            var userInterests = [];
            $.each($("input[name='interest']:checked"), function(){
                userInterests.push($(this).val());

            console
            console.log("Pressed Submit");
            console.log ("User Name: " + $("#exampleInputEmail1").val().trim());

            console.log("The selected interests are: "+userInterests.join(", "));
            });
            var returnedUser = {
                userName: $("#exampleInputEmail1").val().trim(),
                password: $("#exampleInputPassword1").val().trim(),
                screenName: $("#exampleScreenName").val().trim(),
                email: $("#exampleInputEmail1").val().trim(),
                phone: $("#exampleInputPhone1").val().trim(),
                postalCode: $("#examplePostalCode1").val().trim(),
                country: $("#exampleCountry1").val().trim(),
                interests: userInterests

            }
            $.post("/signup", returnedUser, function(data) {
                console.log(data);
                if (data.error) {
                    console.log("inside error")
                    $("#signupResult").html(data.error);
                } else {
                    console.log("before echoesing")
                    window.location = data;

                }
            });
        })
    </script>



  </body>
</html>
